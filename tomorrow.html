<!DOCTYPE html>
<html>
  
  <!--all resources are copied from https://vuetifyjs.com/en/components/buttons/-->
  <head>
  <link
    href="https://cdn.jsdelivr.net/npm/@mdi/font@4.x/css/materialdesignicons.min.css"
    rel="stylesheet"
    />
  <link
    href="https://cdn.jsdelivr.net/npm/vuetify@3.0.5/dist/vuetify.min.css"
    rel="stylesheet"
    />
</head>
  <body>
    <div id="app"></div>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vuetify@3.0.5/dist/vuetify.min.js"></script>
    <script type="text/x-template" id="app-template">
      <v-app>
        <v-card
          class="mx-auto"
          width="400"
          append-icon="mdi-human-greeting"
                
          color=grey
          
        >
          
          <template v-slot:title>
            {{header}}
          </template>
          <v-card-text>
            {{description}}
          </v-card-text>
        </v-card>
        
         <v-card
          class="mx-auto"
          width="400"
          append-icon="mdi-cloud"
                
          color=lightgrey
        >
             <template v-slot:title>
            {{header}}
          </template>
           
            <v-card-text>
            {{description}}
          </v-card-text>
        </v-card>
        
        <v-card
   class="mx-auto"
  loading
  title="Don't forget your umberella"
  subtitle="today's weather"
  text="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."
  width="400"
>
  <v-card-actions>
    <a href="index.html"><v-btn>Go back</v-btn></a>
  </v-card-actions>
</v-card>
  <v-bottom-navigation
        width="400px">
  <v-btn value="recent">
    <v-icon>mdi-history</v-icon>

    Recent
  </v-btn>

  <v-btn value="favorites">
    <v-icon>mdi-heart</v-icon>

    Favorites
  </v-btn>

  <v-btn value="nearby">
    <v-icon>mdi-map-marker</v-icon>

    Nearby
  </v-btn>
   <v-btn value="alendar">
    <v-icon>mdi-calendar</v-icon>

    Forecast
  </v-btn>
</v-bottom-navigation>
        
      </v-app>
    </script>
    <script>
      const { createApp } = Vue;
      const { createVuetify } = Vuetify;
      
      const vuetify = createVuetify();
      
      const app = createApp({
        template: "#app-template", 
        data(){
          return {
            header:"Tomorrow's Weather  Forecast",
            description:"This is a description for you!"
          }
        },
      })
        .use(vuetify)
        .mount("#app");
    
    // Openweathermap API. Do not share it publicly.
const api = '713c23c0545cd0de3150dfe7dc9bab15';




const iconImg = document.getElementById('weather-icon');
const loc = document.querySelector('#location');
const tempC = document.querySelector('.c');
const tempF = document.querySelector('.f');
const desc = document.querySelector('.desc');
const desce = document.querySelector('.desc');
const sunriseDOM = document.querySelector('.sunrise');
const sunsetDOM = document.querySelector('.sunset');


window.addEventListener('load', () => {
 let long;
 let lat;
 // Accesing Geolocation of User
 if (navigator.geolocation) {
   navigator.geolocation.getCurrentPosition((position) => {
     // Storing Longitude and Latitude in variables
     long = position.coords.longitude;
     lat = position.coords.latitude;
     const base = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${long}&appid=${api}&units=metric`;


     // Using fetch to get data
     fetch(base)
       .then((response) => {
         return response.json();
       })
       .then((data) => {
         const { temp, feels_like } = data.main;
         const place = data.name;
         const { description, icon } = data.weather[0];
         const { sunrise, sunset } = data.sys;


         const iconUrl = `http://openweathermap.org/img/wn/${icon}@2x.png`;
         const fahrenheit = (temp * 9) / 5 + 32;


         // Converting Epoch(Unix) time to GMT
         const sunriseGMT = new Date(sunrise * 1000);
         const sunsetGMT = new Date(sunset * 1000);


         // Interacting with DOM to show data
         loc.textContent = `${place}`;
         desc.textContent = `${description}`;
         desce.textContent = `${description}`;
         tempC.textContent = `${temp.toFixed(2)} °C`;
         tempF.textContent = `${fahrenheit.toFixed(2)} °F`;
         sunriseDOM.textContent = `${sunriseGMT.toLocaleDateString()}, ${sunriseGMT.toLocaleTimeString()}`;
         sunsetDOM.textContent = `${sunsetGMT.toLocaleDateString()}, ${sunsetGMT.toLocaleTimeString()}`;
       });
   });
 }
 });
   </script>

    </script>
  </body>
</html>